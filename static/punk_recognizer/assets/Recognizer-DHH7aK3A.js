import{w as V,g as Z,o as I,s as C,c as W,t as b,u as D,r as _,a as z,b as x,d as k,e as m,n as $,f as B,h as M}from"./main-91J2YvKA.js";function G(n){return Z()?(I(n),!0):!1}const F=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const N=Object.prototype.toString,P=n=>N.call(n)==="[object Object]";function j(n){return Array.isArray(n)?n:[n]}function q(n,a,s){return V(n,a,{...s,immediate:!0})}const H=F?window:void 0;function J(n){var a;const s=b(n);return(a=s==null?void 0:s.$el)!=null?a:s}function g(...n){const a=[],s=()=>{a.forEach(o=>o()),a.length=0},v=(o,t,l,r)=>(o.addEventListener(t,l,r),()=>o.removeEventListener(t,l,r)),c=W(()=>{const o=j(b(n[0])).filter(t=>t!=null);return o.every(t=>typeof t!="string")?o:void 0}),p=q(()=>{var o,t;return[(t=(o=c.value)==null?void 0:o.map(l=>J(l)))!=null?t:[H].filter(l=>l!=null),j(b(c.value?n[1]:n[0])),j(D(c.value?n[2]:n[1])),b(c.value?n[3]:n[2])]},([o,t,l,r])=>{if(s(),!(o!=null&&o.length)||!(t!=null&&t.length)||!(l!=null&&l.length))return;const T=P(r)?{...r}:r;a.push(...o.flatMap(w=>t.flatMap(L=>l.map(U=>v(w,L,U,T)))))},{flush:"post"}),f=()=>{p(),s()};return G(s),f}function K(n,a={}){var s,v;const c=C(!1),p=C(null);let f=0,o=!0;if(F){const t=typeof a=="function"?{onDrop:a}:a,l=(s=t.multiple)!=null?s:!0,r=(v=t.preventDefaultForUnhandled)!=null?v:!1,T=e=>{var i,d;const u=Array.from((d=(i=e.dataTransfer)==null?void 0:i.files)!=null?d:[]);return u.length===0?null:l?u:[u[0]]},w=e=>{const i=D(t.dataTypes);return typeof i=="function"?i(e):i!=null&&i.length?e.length===0?!1:e.every(d=>i.some(u=>d.includes(u))):!0},L=e=>{const i=Array.from(e??[]).map(y=>y.type),d=w(i),u=l||e.length<=1;return d&&u},U=()=>/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window),h=(e,i)=>{var d,u,y,E,O,A;const R=(d=e.dataTransfer)==null?void 0:d.items;if(o=(u=R&&L(R))!=null?u:!1,r&&e.preventDefault(),!U()&&!o){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy");const S=T(e);switch(i){case"enter":f+=1,c.value=!0,(y=t.onEnter)==null||y.call(t,null,e);break;case"over":(E=t.onOver)==null||E.call(t,null,e);break;case"leave":f-=1,f===0&&(c.value=!1),(O=t.onLeave)==null||O.call(t,null,e);break;case"drop":f=0,c.value=!1,o&&(p.value=S,(A=t.onDrop)==null||A.call(t,S,e));break}};g(n,"dragenter",e=>h(e,"enter")),g(n,"dragover",e=>h(e,"over")),g(n,"dragleave",e=>h(e,"leave")),g(n,"drop",e=>h(e,"drop"))}return{files:p,isOverDropZone:c}}const Q={class:"flex flex-col items-center justify-center gap-8 p-8 rounded-3xl bg-primary w-full max-w-[50rem]"},X={class:"flex items-center text-xl text-center text-[#c5c5c5] h-full"},Y={key:0},ee={key:1},te={__name:"DragAndDropZone",setup(n){const a=_(null),s=_(null),v=_(null),c=_(""),p=l=>{if(l&&l.length===1){const r=l[0];if(!r.type.startsWith("image")){alert("Файл должен быть изображением");return}c.value&&(URL.revokeObjectURL(c.value),c.value=""),v.value={name:r.name,size:r.size,type:r.type},c.value=URL.createObjectURL(r)}},{isOverDropZone:f}=K(a,{onDrop:p,multiple:!1,preventDefaultForUnhandled:!0}),o=()=>{var l;(l=s.value)==null||l.click()},t=l=>{const r=l.target.files;r&&r.length===1&&p(Array.from(r))};return z(()=>{c.value&&URL.revokeObjectURL(c.value)}),(l,r)=>(k(),x("div",Q,[m("div",{ref_key:"dropZone",ref:a,class:$(["flex flex-1 flex-col items-center border-2 border-dashed border-[#c5c5c5] rounded-3xl w-full max-w-[46rem] aspect-[184/75]",{"cursor-pointer border-[#c5c5c5]/70":D(f)}])},[m("p",X,[D(f)?(k(),x("span",ee,"Отпустите изображение")):(k(),x("span",Y,"Перетащите своё изображение"))])],2),m("button",{class:"px-6 py-2 rounded-full bg-white text-black text-lg font-medium transition-colors hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-black/70",onClick:B(o,["stop"])},r[0]||(r[0]=[m("span",null,"Загрузить фото",-1)])),m("input",{ref_key:"fileInput",ref:s,type:"file",class:"hidden",accept:"image/*",onChange:t},null,544)]))}},ne={class:"flex w-full h-auto items-center justify-center"},le={class:"flex flex-1 justify-center items-center p-8"},oe={__name:"Recognizer",setup(n){return(a,s)=>(k(),x("div",ne,[m("div",le,[M(te)])]))}};export{oe as default};
