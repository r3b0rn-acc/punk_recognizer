import{w as S,g as I,o as Z,s as M,c as $,t as x,u as j,_ as B,a as g,b as h,d,r as b,e as W,f as z,h as F,i as H,n as N,j as G}from"./main-BnZOfOc0.js";function P(t){return I()?(Z(t),!0):!1}const R=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const q=Object.prototype.toString,J=t=>q.call(t)==="[object Object]";function T(t){return Array.isArray(t)?t:[t]}function K(t,s,i){return S(t,s,{...i,immediate:!0})}const Q=R?window:void 0;function X(t){var s;const i=x(t);return(s=i==null?void 0:i.$el)!=null?s:i}function k(...t){const s=[],i=()=>{s.forEach(o=>o()),s.length=0},m=(o,n,r,l)=>(o.addEventListener(n,r,l),()=>o.removeEventListener(n,r,l)),a=$(()=>{const o=T(x(t[0])).filter(n=>n!=null);return o.every(n=>typeof n!="string")?o:void 0}),v=K(()=>{var o,n;return[(n=(o=a.value)==null?void 0:o.map(r=>X(r)))!=null?n:[Q].filter(r=>r!=null),T(x(a.value?t[1]:t[0])),T(j(a.value?t[2]:t[1])),x(a.value?t[3]:t[2])]},([o,n,r,l])=>{if(i(),!(o!=null&&o.length)||!(n!=null&&n.length)||!(r!=null&&r.length))return;const w=J(l)?{...l}:l;s.push(...o.flatMap(C=>n.flatMap(D=>r.map(L=>m(C,D,L,w)))))},{flush:"post"}),p=()=>{v(),i()};return P(i),p}function Y(t,s={}){var i,m;const a=M(!1),v=M(null);let p=0,o=!0;if(R){const n=typeof s=="function"?{onDrop:s}:s,r=(i=n.multiple)!=null?i:!0,l=(m=n.preventDefaultForUnhandled)!=null?m:!1,w=e=>{var c,f;const u=Array.from((f=(c=e.dataTransfer)==null?void 0:c.files)!=null?f:[]);return u.length===0?null:r?u:[u[0]]},C=e=>{const c=j(n.dataTypes);return typeof c=="function"?c(e):c!=null&&c.length?e.length===0?!1:e.every(f=>c.some(u=>f.includes(u))):!0},D=e=>{const c=Array.from(e??[]).map(y=>y.type),f=C(c),u=r||e.length<=1;return f&&u},L=()=>/^(?:(?!chrome|android).)*safari/i.test(navigator.userAgent)&&!("chrome"in window),_=(e,c)=>{var f,u,y,V,U,E;const O=(f=e.dataTransfer)==null?void 0:f.items;if(o=(u=O&&D(O))!=null?u:!1,l&&e.preventDefault(),!L()&&!o){e.dataTransfer&&(e.dataTransfer.dropEffect="none");return}e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="copy");const A=w(e);switch(c){case"enter":p+=1,a.value=!0,(y=n.onEnter)==null||y.call(n,null,e);break;case"over":(V=n.onOver)==null||V.call(n,null,e);break;case"leave":p-=1,p===0&&(a.value=!1),(U=n.onLeave)==null||U.call(n,null,e);break;case"drop":p=0,a.value=!1,o&&(v.value=A,(E=n.onDrop)==null||E.call(n,A,e));break}};k(t,"dragenter",e=>_(e,"enter")),k(t,"dragover",e=>_(e,"over")),k(t,"dragleave",e=>_(e,"leave")),k(t,"drop",e=>_(e,"drop"))}return{files:v,isOverDropZone:a}}const ee={},te={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function ne(t,s){return h(),g("svg",te,s[0]||(s[0]=[d("path",{d:"M12 11V17M12 17L10 15M12 17L14 15M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H15.8C16.9201 21 17.4802 21 17.908 20.782C18.2843 20.5903 18.5903 20.2843 18.782 19.908C19 19.4802 19 18.9201 19 17.8V9M13 3L19 9M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))}const re=B(ee,[["render",ne]]),oe={key:1,class:"w-32 h-32"},le=["src"],se={key:0},ae={key:1},ie={__name:"DragAndDropZone",setup(t){const s=b(null),i=b(null),m=b(null),a=b(""),v=r=>{if(r&&r.length===1){const l=r[0];if(!l.type.startsWith("image")){alert("Файл должен быть изображением");return}a.value&&(URL.revokeObjectURL(a.value),a.value=""),m.value={name:l.name,size:l.size,type:l.type},a.value=URL.createObjectURL(l)}},{isOverDropZone:p}=Y(s,{onDrop:v,multiple:!1,preventDefaultForUnhandled:!0}),o=()=>{var r;(r=i.value)==null||r.click()},n=r=>{const l=r.target.files;l&&l.length===1&&v(Array.from(l))};return W(()=>{a.value&&URL.revokeObjectURL(a.value)}),(r,l)=>(h(),g("div",{ref_key:"dropZone",ref:s,class:N(["flex flex-col items-center justify-center gap-6 p-8 m-4 rounded-2xl border-2 border-dashed transition-shadow backdrop-blur-sm",j(p)?"border-blue-400 bg-blue-50/70":"border-gray-300 bg-gray-50/70 hover:shadow-lg cursor-pointer"]),onClick:o},[d("div",null,[a.value?(h(),g("div",oe,[d("img",{src:a.value,alt:"Preview",class:"w-full h-full object-cover rounded-lg"},null,8,le)])):(h(),z(re,{key:0,class:"w-32 h-32 text-gray-400"}))]),l[0]||(l[0]=d("p",{class:"text-xl text-center text-gray-600"},[F(" Перетащите изображение сюда"),d("br"),F("или нажмите для загрузки ")],-1)),d("button",{class:"px-6 py-2 rounded-full bg-blue-500 text-white text-lg font-medium transition-colors hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300",onClick:H(o,["stop"])},[a.value?(h(),g("span",ae,"Изменить фото")):(h(),g("span",se,"Загрузить фото"))]),d("input",{ref_key:"fileInput",ref:i,type:"file",class:"hidden",accept:"image/*",onChange:n},null,544)],2))}},ce={class:"flex flex-1 items-center justify-between"},ue={class:"flex justify-center items-center h-[23.5rem]"},de={__name:"Recognizer",setup(t){return(s,i)=>(h(),g("div",ce,[d("div",ue,[G(ie),i[0]||(i[0]=d("div",{class:"text-center text-white text-[10rem]"},"ТУ БИ КОНТИНУЕД...",-1))])]))}};export{de as default};
