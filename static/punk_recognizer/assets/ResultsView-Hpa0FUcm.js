import{c,o as l,a as e,_ as h,r as p,j as x,f as m,k as v,T as w,l as k,m as b,p as y,b as V,q as $,i as S,F as _,s as C,u as B,g as j}from"./main-pHqhdxKN.js";import{o as I}from"./index-7GxMMcvg.js";const R={class:"bg-primary rounded-3xl p-4 w-full max-w-[15rem]"},M=["src"],T={__name:"ImageBlock",props:{src:{type:String,required:!0}},setup(s){const t=s;return(i,u)=>(l(),c("div",R,[e("img",{src:t.src,alt:"Preview"},null,8,M)]))}},q={},z={xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"};function N(s,t){return l(),c("svg",z,t[0]||(t[0]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)]))}const F=h(q,[["render",N]]),K={key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm"},L={class:"overflow-auto max-h-[90vh] max-w-[90vw]"},O=["src","alt"],U={__name:"ImageModal",props:{src:{type:String,required:!0},alt:{type:String,default:""},modelValue:{type:Boolean,default:!1},height:{type:String,default:"10rem"},width:{type:String,default:"10rem"}},emits:["update:modelValue","close"],setup(s,{emit:t}){const i=s,u=t,a=p(null);function n(){u("update:modelValue",!1),u("close")}I(a,n);const f={"max-width":i.width,"max-height":i.height};return(r,o)=>(l(),x(k,{to:"body"},[m(w,{name:"fade"},{default:v(()=>[s.modelValue?(l(),c("div",K,[e("div",{ref_key:"modalRef",ref:a,tabindex:"-1",onKeydown:y(n,["esc"]),class:"relative max-h-[90vh] max-w-[90vw] shadow-xl outline-none"},[e("button",{onClick:n,class:"absolute top-2 right-2 z-10 text-white bg-black/50 hover:bg-black/70 rounded-full p-1 transition-colors"},[m(F)]),e("div",L,[e("img",{src:s.src,alt:s.alt,class:"block max-h-full max-w-full object-contain",style:f},null,8,O)])],544)])):b("",!0)]),_:1})]))}},E=h(U,[["__scopeId","data-v-0507e9d5"]]),P={class:"flex flex-col py-8 gap-12"},A={class:"flex flex-row flex-wrap gap-8 items-center justify-center"},D=["onClick"],G={class:"flex justify-center items-center"},W={__name:"ResultsView",setup(s){const t=V(),i=t.taskResult,u=$(()=>i.map(r=>({...r,image_url:"/"+r.image_path.replace(/\\/g,"/")}))),a=p(!1),n=p(""),f=r=>{n.value=r,a.value=!0};return S(()=>{t.clearStore()}),(r,o)=>(l(),c(_,null,[e("div",P,[e("div",A,[(l(!0),c(_,null,C(u.value,(d,g)=>(l(),c("div",{key:g,class:"cursor-pointer",onClick:H=>f(d.image_url)},[m(T,{src:d.image_url},null,8,["src"])],8,D))),128))]),e("div",G,[e("button",{class:"px-6 py-2 rounded-full bg-white transition-colors hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-black/70 cursor-pointer",onClick:o[0]||(o[0]=d=>B(j).push({name:"home"}))},o[2]||(o[2]=[e("span",{class:"text-black text-lg font-medium"}," Загрузить еще ",-1)]))])]),m(E,{modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=d=>a.value=d),src:n.value,alt:"Просмотр изображения",width:"50rem",height:"50rem"},null,8,["modelValue","src"])],64))}};export{W as default};
